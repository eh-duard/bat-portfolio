---
interface Props {
  title?: string;
  subtitle?: string;
}

const {
  title = 'Competenze',
  subtitle = 'Il mio arsenale'
} = Astro.props;

const skills = {
  frontend: [
    { name: 'TypeScript', level: 90 },
    { name: 'React', level: 85 },
    { name: 'Vue.js', level: 80 },
    { name: 'Astro', level: 85 },
    { name: 'CSS/SCSS', level: 90 },
  ],
  backend: [
    { name: 'Node.js', level: 85 },
    { name: 'Python', level: 75 },
    { name: 'PostgreSQL', level: 80 },
    { name: 'MongoDB', level: 75 },
    { name: 'GraphQL', level: 70 },
  ],
  tools: [
    { name: 'Git', level: 90 },
    { name: 'Docker', level: 75 },
    { name: 'CI/CD', level: 80 },
    { name: 'AWS', level: 70 },
    { name: 'Figma', level: 65 },
  ],
};
---

<section id="skills" class="skills">
  <div class="section-header">
    <h2 class="section-title" data-i18n="skills.title">{title}</h2>
    <p class="section-subtitle" data-i18n="skills.subtitle">{subtitle}</p>
  </div>
  
  <div class="skills-grid">
    <div class="skill-category">
      <h3 class="category-title" data-i18n="skills.frontend">Frontend</h3>
      <div class="skill-list">
        {skills.frontend.map(skill => (
          <div class="skill-item">
            <div class="skill-header">
              <span class="skill-name">{skill.name}</span>
              <span class="skill-level">{skill.level}%</span>
            </div>
            <div class="skill-bar">
              <div class="skill-progress" style={`--progress: ${skill.level}%`}></div>
            </div>
          </div>
        ))}
      </div>
    </div>
    
    <div class="skill-category">
      <h3 class="category-title" data-i18n="skills.backend">Backend</h3>
      <div class="skill-list">
        {skills.backend.map(skill => (
          <div class="skill-item">
            <div class="skill-header">
              <span class="skill-name">{skill.name}</span>
              <span class="skill-level">{skill.level}%</span>
            </div>
            <div class="skill-bar">
              <div class="skill-progress" style={`--progress: ${skill.level}%`}></div>
            </div>
          </div>
        ))}
      </div>
    </div>
    
    <div class="skill-category">
      <h3 class="category-title" data-i18n="skills.tools">Strumenti</h3>
      <div class="skill-list">
        {skills.tools.map(skill => (
          <div class="skill-item">
            <div class="skill-header">
              <span class="skill-name">{skill.name}</span>
              <span class="skill-level">{skill.level}%</span>
            </div>
            <div class="skill-bar">
              <div class="skill-progress" style={`--progress: ${skill.level}%`}></div>
            </div>
          </div>
        ))}
      </div>
    </div>
  </div>
</section>

<style>
  .skills {
    padding: var(--space-3xl) var(--space-xl);
    background: var(--color-bg-secondary);
  }

  .section-header {
    text-align: center;
    margin-bottom: var(--space-2xl);
    max-width: 1200px;
    margin-left: auto;
    margin-right: auto;
  }

  .section-title {
    font-family: var(--font-display);
    font-size: clamp(2rem, 5vw, 3rem);
    color: var(--color-accent);
    letter-spacing: 0.1em;
    margin-bottom: var(--space-sm);
  }

  .section-subtitle {
    font-size: 1rem;
    color: var(--color-text-muted);
    letter-spacing: 0.2em;
    text-transform: uppercase;
  }

  .skills-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: var(--space-xl);
    max-width: 1200px;
    margin: 0 auto;
  }

  .skill-category {
    background: var(--color-bg-primary);
    padding: var(--space-xl);
    border: 1px solid var(--color-bg-tertiary);
    transition: border-color var(--transition-fast);
  }

  .skill-category:hover {
    border-color: var(--color-accent-dim);
  }

  .category-title {
    font-family: var(--font-display);
    font-size: 1.25rem;
    color: var(--color-accent);
    letter-spacing: 0.1em;
    margin-bottom: var(--space-lg);
    padding-bottom: var(--space-sm);
    border-bottom: 1px solid var(--color-bg-tertiary);
  }

  .skill-list {
    display: flex;
    flex-direction: column;
    gap: var(--space-md);
  }

  .skill-item {
    display: flex;
    flex-direction: column;
    gap: var(--space-xs);
  }

  .skill-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .skill-name {
    font-size: 0.9rem;
    color: var(--color-text-secondary);
  }

  .skill-level {
    font-size: 0.75rem;
    color: var(--color-text-muted);
    font-family: var(--font-display);
  }

  .skill-bar {
    height: 4px;
    background: var(--color-bg-tertiary);
    border-radius: 2px;
    overflow: hidden;
  }

  .skill-progress {
    height: 100%;
    width: var(--progress);
    background: linear-gradient(90deg, var(--color-accent-dim), var(--color-accent));
    border-radius: 2px;
    transition: width 1s ease;
  }
</style>
